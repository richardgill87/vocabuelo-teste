<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Vocabuelo</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      background-color: #000; 
      color: #fff; 
      margin: 20px; 
    }
    .container { display: flex; gap: 20px; margin-top: 15px; }
    
    #nuvem { 
      flex: 3; 
      height: 600px; 
      border: 2px solid #fff; 
      background-color: #fff; 
      position: relative;
      overflow: hidden;
    }

    #historico-container { 
      flex: 1; 
      height: 600px; 
      overflow-y: auto; 
      border: 1px solid #444; 
      padding: 10px;
      background: #111;
    }

    /* Estilo dos N√≥s e Linhas */
    .node circle {
      stroke: #000;
      stroke-width: 2px;
    }
    .node text {
      font-size: 12px;
      font-weight: bold;
      fill: #000;
      pointer-events: none;
    }
    line {
      stroke: #333 !important;
      stroke-width: 2.5px;
      stroke-opacity: 0.8;
    }

    table { width: 100%; border-collapse: collapse; }
    th, td { border-bottom: 1px solid #333; padding: 8px; text-align: left; font-size: 14px; }
    th { color: #87cefa; }
    .sucesso { color: #4caf50; font-weight: bold; }
    .falha { color: #f44336; }
    
    input { padding: 8px; width: 250px; border-radius: 4px; border: none; }
	@keyframes pulsar {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

.vitoria-anim {
  animation: pulsar 0.5s infinite;
}
  </style>
</head>
<body>

  <h1>Vocabuelo</h1>
<p id="objetivo" style="font-size: 1.2em; color: gold;"></p>

<div style="margin-bottom: 20px;">
    <label for="novaPalavra">Digite uma palavra:</label>
    <input id="novaPalavra" type="text" placeholder="Aperte Enter para enviar">
    <p id="resultado"></p>

    <div id="vitoria-actions" style="display:none; margin-top: 10px;">
      <button id="btnCompartilhar" onclick="compartilharResultado()" style="padding: 12px 25px; background-color: #4caf50; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px; box-shadow: 0 4px 6px rgba(0,0,0,0.3);">
        üì§ Compartilhar Resultado
      </button>
    </div>
</div>

<div class="container">
    <div id="nuvem"></div>
    <div id="historico-container">
      <h3>Hist√≥rico</h3>
      <table id="tabela-historico">
        <thead>
          <tr>
            <th>Palavra</th>
            <th>Proximidade</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
</div>

  <script type="module">
   const _0x2674a8=_0x19a7;(function(_0x3d51e3,_0x4958a8){const _0x5d5e8e=_0x19a7,_0xb72e04=_0x3d51e3();while(!![]){try{const _0x350c23=parseInt(_0x5d5e8e(0x23e))/0x1*(-parseInt(_0x5d5e8e(0x1f5))/0x2)+parseInt(_0x5d5e8e(0x1f9))/0x3+parseInt(_0x5d5e8e(0x22d))/0x4+parseInt(_0x5d5e8e(0x1ba))/0x5*(-parseInt(_0x5d5e8e(0x238))/0x6)+parseInt(_0x5d5e8e(0x1e7))/0x7*(-parseInt(_0x5d5e8e(0x235))/0x8)+-parseInt(_0x5d5e8e(0x220))/0x9+parseInt(_0x5d5e8e(0x1ca))/0xa;if(_0x350c23===_0x4958a8)break;else _0xb72e04['push'](_0xb72e04['shift']());}catch(_0x1daa82){_0xb72e04['push'](_0xb72e04['shift']());}}}(_0x370f,0x87e60));function _0x370f(){const _0x9c65b8=['reduce','Conecte\x20\x22','Palavra\x20solta.','charge','number','\x20palavras\x0a','exit','forceY','getElementById','some','#ff9800','yellow','stroke-width','background-color','append','querySelector','green','üéâ\x20INCR√çVEL!\x20VOC√ä\x20CONECTOU\x20A\x20PONTE!','<td>','includes','fill','split','resultado','text-anchor','3086091LgUOzD','radius','scaleExtent','nodes','duration','share','restart','%</td>','target','error','filter','toUpperCase','shift','2424708abYWEY','html','toLowerCase','</td><td\x20class=\x22','has','object','novaPalavra','enter','72024EjopTO','üß©\x20Caminho:\x20','clipboard','1323288DWCPsP','translate(','stroke','random','display','max','428288GypxSb','offsetWidth','5px','#808080','5EuMDiL','‚ú®\x20Tente\x20vencer\x20voc√™\x20tamb√©m:\x0a','alphaTarget','min','100%','falha','2px','force','Conectei\x20\x22','call','catch','select','source','.node','center','start','16331310BFOwEy','insertRow','forceCollide','forceCenter','height','compartilharResultado','#f0fdf4','merge','#tabela-historico\x20tbody','width','link','transition','block','stop','line','floor','push','alpha','nuvem','remove','Modelo\x20pronto!','data','feature-extraction','embedding','keydown','4px','text','trim','add','357ZQeBYD','forceLink','circle','length','key','forceSimulation','#000','selectAll','addEventListener','#nuvem','attr','forEach','toFixed','innerHTML','4DiKNUY','then','transform','mean','589524vrcnTY','strength','function','Erro\x20no\x20dicion√°rio.','middle','forceX','svg','#87cefa','Perto\x20do\x20fim!\x20Precisa\x20de\x20mais\x20palavras.','vitoria-actions','sqrt','zoom','Joguei\x20Vocabuelo\x20‚õìÔ∏è\x0a\x0a','innerText','style'];_0x370f=function(){return _0x9c65b8;};return _0x370f();}import{pipeline}from'https://cdn.jsdelivr.net/npm/@xenova/transformers/dist/transformers.min.js';let extractor=null,dicionario=[],inicio,fim,corrente=[],nodes=[],links=[];const nuvemDiv=d3[_0x2674a8(0x1c5)](_0x2674a8(0x1f0));nuvemDiv[_0x2674a8(0x22e)]('');const width=document[_0x2674a8(0x210)](_0x2674a8(0x1dc))[_0x2674a8(0x23f)],height=0x258,svg=nuvemDiv[_0x2674a8(0x216)](_0x2674a8(0x1ff))['attr'](_0x2674a8(0x1d3),_0x2674a8(0x1be))['attr'](_0x2674a8(0x1ce),height),svgGroup=svg[_0x2674a8(0x216)]('g'),zoom=d3[_0x2674a8(0x204)]()[_0x2674a8(0x222)]([0.1,0x5])['on'](_0x2674a8(0x204),_0x4c86b9=>{const _0x373b41=_0x2674a8;svgGroup['attr']('transform',_0x4c86b9[_0x373b41(0x1f7)]);});svg[_0x2674a8(0x1c3)](zoom);const simulation=d3[_0x2674a8(0x1ec)](nodes)['force'](_0x2674a8(0x1d4),d3[_0x2674a8(0x1e8)](links)['distance'](0x50)['id'](_0x447cf4=>_0x447cf4['id']))[_0x2674a8(0x1c1)](_0x2674a8(0x20b),d3['forceManyBody']()[_0x2674a8(0x1fa)](-0x96))[_0x2674a8(0x1c1)](_0x2674a8(0x1c8),d3[_0x2674a8(0x1cd)](width/0x2,height/0x2))[_0x2674a8(0x1c1)]('x',d3[_0x2674a8(0x1fe)](width/0x2)[_0x2674a8(0x1fa)](0.05))[_0x2674a8(0x1c1)]('y',d3[_0x2674a8(0x20f)](height/0x2)['strength'](0.05))[_0x2674a8(0x1c1)]('collision',d3[_0x2674a8(0x1cc)]()[_0x2674a8(0x221)](0x23));let link=svgGroup[_0x2674a8(0x216)]('g')['selectAll'](_0x2674a8(0x1d8)),node=svgGroup[_0x2674a8(0x216)]('g')[_0x2674a8(0x1ee)](_0x2674a8(0x1c7));function _0x19a7(_0x24ceba,_0x3604d3){_0x24ceba=_0x24ceba-0x1ba;const _0x370ff0=_0x370f();let _0x19a7f1=_0x370ff0[_0x24ceba];return _0x19a7f1;}async function carregarModelo(){const _0x4e92e0=_0x2674a8;return!extractor&&(extractor=await pipeline(_0x4e92e0(0x1e0),'Xenova/all-MiniLM-L6-v2'),document[_0x4e92e0(0x210)](_0x4e92e0(0x21e))[_0x4e92e0(0x206)]=_0x4e92e0(0x1de)),extractor;}async function carregarDicionario(){const _0x588d45=_0x2674a8;try{const _0x815f6d=await fetch('https://raw.githubusercontent.com/tiagope/todas-palavras-PT-BR/main/br-utf8.txt'),_0x566dae=await _0x815f6d[_0x588d45(0x1e4)]();dicionario=_0x566dae[_0x588d45(0x21d)]('\x0a')['map'](_0x3c1e46=>_0x3c1e46[_0x588d45(0x1e5)]()[_0x588d45(0x22f)]())[_0x588d45(0x22a)](_0x131ab6=>_0x131ab6[_0x588d45(0x1ea)]>=0x4&&_0x131ab6['length']<=0xa);}catch(_0x5787ed){document[_0x588d45(0x210)](_0x588d45(0x21e))['innerText']=_0x588d45(0x1fc);}}function cosineSimilarity(_0x94eb5f,_0x2acc08){const _0xfe05de=_0x2674a8,_0x57fe1b=_0x94eb5f['reduce']((_0x370f6a,_0x3ef640,_0x23cc1b)=>_0x370f6a+_0x3ef640*_0x2acc08[_0x23cc1b],0x0),_0xfa90e2=Math[_0xfe05de(0x203)](_0x94eb5f['reduce']((_0x54bf65,_0x16b60c)=>_0x54bf65+_0x16b60c*_0x16b60c,0x0)),_0x1bfffe=Math[_0xfe05de(0x203)](_0x2acc08[_0xfe05de(0x208)]((_0x2a6fd5,_0x5b4268)=>_0x2a6fd5+_0x5b4268*_0x5b4268,0x0));return _0x57fe1b/(_0xfa90e2*_0x1bfffe);}function adicionarNo(_0xeb3316,_0x122e4a,_0x309b1c){const _0x5b8b87=_0x2674a8;let _0x100ab6=width/0x2,_0x10668d=height/0x2;_0x309b1c&&typeof _0x309b1c['x']===_0x5b8b87(0x20c)&&!isNaN(_0x309b1c['x'])&&(_0x100ab6=_0x309b1c['x'],_0x10668d=_0x309b1c['y']);const _0x16edbc={'id':_0xeb3316,'embedding':_0x122e4a,'x':_0x100ab6+(Math[_0x5b8b87(0x23b)]()*0xa-0x5),'y':_0x10668d+(Math[_0x5b8b87(0x23b)]()*0xa-0x5)};nodes[_0x5b8b87(0x1da)](_0x16edbc),atualizarNuvem();}function atualizarNuvem(){const _0x348124=_0x2674a8;link=link[_0x348124(0x1df)](links),link['exit']()[_0x348124(0x1dd)](),link=link['enter']()['append'](_0x348124(0x1d8))[_0x348124(0x1d1)](link),node=node[_0x348124(0x1df)](nodes,_0x3b5e41=>_0x3b5e41['id']),node[_0x348124(0x20e)]()[_0x348124(0x1dd)]();const _0x220d57=node[_0x348124(0x234)]()['append']('g')['attr']('class','node')['call'](d3['drag']()['on'](_0x348124(0x1c9),(_0x3aaae0,_0x54fe94)=>{const _0x55cc90=_0x348124;if(!_0x3aaae0['active'])simulation[_0x55cc90(0x1bc)](0.3)['restart']();_0x54fe94['fx']=_0x54fe94['x'],_0x54fe94['fy']=_0x54fe94['y'];})['on']('drag',(_0x56b44f,_0x20d2b8)=>{_0x20d2b8['fx']=_0x56b44f['x'],_0x20d2b8['fy']=_0x56b44f['y'];})['on']('end',(_0x1b47ee,_0xaa10f3)=>{const _0xdd518=_0x348124;if(!_0x1b47ee['active'])simulation[_0xdd518(0x1bc)](0x0);_0xaa10f3['fx']=null,_0xaa10f3['fy']=null;}));_0x220d57['append'](_0x348124(0x1e9))[_0x348124(0x1f1)]('r',0x19)['style'](_0x348124(0x23a),_0x348124(0x1ed))[_0x348124(0x207)](_0x348124(0x214),_0x348124(0x1c0))[_0x348124(0x207)](_0x348124(0x21c),_0x2086b1=>{const _0x541bfb=_0x348124;if(_0x2086b1['id']===inicio)return _0x541bfb(0x213);if(_0x2086b1['id']===fim)return'green';const _0x550015=links['some'](_0x49dcad=>(typeof _0x49dcad[_0x541bfb(0x1c6)]==='object'?_0x49dcad['source']['id']===_0x2086b1['id']:_0x49dcad[_0x541bfb(0x1c6)]===_0x2086b1['id'])||(typeof _0x49dcad[_0x541bfb(0x228)]==='object'?_0x49dcad[_0x541bfb(0x228)]['id']===_0x2086b1['id']:_0x49dcad[_0x541bfb(0x228)]===_0x2086b1['id']));return _0x550015?_0x541bfb(0x200):_0x541bfb(0x241);}),_0x220d57[_0x348124(0x216)](_0x348124(0x1e4))[_0x348124(0x1f1)]('dy',0x4)['attr'](_0x348124(0x21f),_0x348124(0x1fd))[_0x348124(0x1e4)](_0x4a6a15=>_0x4a6a15['id']),node=_0x220d57[_0x348124(0x1d1)](node),simulation[_0x348124(0x223)](nodes),simulation[_0x348124(0x1c1)](_0x348124(0x1d4))['links'](links),simulation[_0x348124(0x1db)](0x1)[_0x348124(0x226)]();}simulation['on']('tick',()=>{const _0xe0d75d=_0x2674a8,_0x5d8f61=0x19;node['attr'](_0xe0d75d(0x1f7),_0xb45b9f=>{const _0x1034f5=_0xe0d75d;return _0xb45b9f['x']=Math[_0x1034f5(0x23d)](_0x5d8f61,Math['min'](width-_0x5d8f61,_0xb45b9f['x'])),_0xb45b9f['y']=Math[_0x1034f5(0x23d)](_0x5d8f61,Math[_0x1034f5(0x1bd)](height-_0x5d8f61,_0xb45b9f['y'])),_0x1034f5(0x239)+_0xb45b9f['x']+','+_0xb45b9f['y']+')';}),link[_0xe0d75d(0x1f1)]('x1',_0x1eb396=>_0x1eb396[_0xe0d75d(0x1c6)]['x'])[_0xe0d75d(0x1f1)]('y1',_0xa99b22=>_0xa99b22[_0xe0d75d(0x1c6)]['y'])['attr']('x2',_0x1bf64a=>_0x1bf64a[_0xe0d75d(0x228)]['x'])[_0xe0d75d(0x1f1)]('y2',_0x5a4bcb=>_0x5a4bcb[_0xe0d75d(0x228)]['y']);});async function adicionarPalavra(){const _0x592661=_0x2674a8;await carregarModelo();const _0x3b2ba1=document[_0x592661(0x210)](_0x592661(0x233)),_0x330c6f=_0x3b2ba1['value'][_0x592661(0x1e5)]()[_0x592661(0x22f)](),_0x5ea84b=0x4;if(!dicionario[_0x592661(0x21b)](_0x330c6f)||corrente[_0x592661(0x21b)](_0x330c6f)){document[_0x592661(0x210)]('resultado')['innerText']='Inv√°lida\x20ou\x20j√°\x20usada!';return;}const _0x346117=await extractor(_0x330c6f,{'pooling':_0x592661(0x1f8),'normalize':!![]}),_0x50b0c2=_0x346117['data'];let _0x369e91=-0x1,_0x92ed80=nodes[0x0];nodes[_0x592661(0x1f2)](_0x272151=>{const _0x377e60=cosineSimilarity(_0x50b0c2,_0x272151['embedding'])*0x64;_0x377e60>_0x369e91&&(_0x369e91=_0x377e60,_0x92ed80=_0x272151);});const _0x322679=document[_0x592661(0x217)](_0x592661(0x1d2)),_0x3eee79=_0x322679[_0x592661(0x1cb)](0x0);_0x3eee79[_0x592661(0x1f4)]=_0x592661(0x21a)+_0x330c6f+_0x592661(0x230)+(_0x369e91>=0x28?'sucesso':_0x592661(0x1bf))+'\x22>'+_0x369e91[_0x592661(0x1f3)](0x1)+_0x592661(0x227),adicionarNo(_0x330c6f,_0x50b0c2,{'x':_0x92ed80['x'],'y':_0x92ed80['y']}),corrente['push'](_0x330c6f);let _0x327266=![];nodes['forEach'](_0x79150f=>{const _0x2490d7=_0x592661;if(_0x79150f['id']===_0x330c6f)return;const _0x42a469=cosineSimilarity(_0x50b0c2,_0x79150f[_0x2490d7(0x1e1)])*0x64;_0x42a469>=0x28&&(_0x79150f['id']===fim&&corrente['length']<_0x5ea84b?document[_0x2490d7(0x210)](_0x2490d7(0x21e))['innerText']=_0x2490d7(0x201):(links[_0x2490d7(0x1da)]({'source':_0x79150f['id'],'target':_0x330c6f}),_0x327266=!![]));}),document[_0x592661(0x210)](_0x592661(0x21e))[_0x592661(0x206)]=_0x327266?'Conectada!':_0x592661(0x20a),atualizarNuvem(),node['selectAll']('circle')[_0x592661(0x207)]('fill',_0x269f8a=>{const _0x191c5e=_0x592661;if(_0x269f8a['id']===inicio)return'yellow';if(_0x269f8a['id']===fim)return _0x191c5e(0x218);const _0x70f96c=links[_0x191c5e(0x211)](_0x202c82=>(typeof _0x202c82[_0x191c5e(0x1c6)]===_0x191c5e(0x232)?_0x202c82[_0x191c5e(0x1c6)]['id']===_0x269f8a['id']:_0x202c82[_0x191c5e(0x1c6)]===_0x269f8a['id'])||(typeof _0x202c82['target']===_0x191c5e(0x232)?_0x202c82['target']['id']===_0x269f8a['id']:_0x202c82['target']===_0x269f8a['id']));return _0x70f96c?_0x191c5e(0x200):_0x191c5e(0x241);}),_0x3b2ba1['value']='';if(existeLigacao(inicio,fim,links)&&corrente[_0x592661(0x1ea)]>=_0x5ea84b){document['getElementById'](_0x592661(0x21e))[_0x592661(0x206)]=_0x592661(0x219),document['getElementById'](_0x592661(0x202))[_0x592661(0x207)][_0x592661(0x23c)]=_0x592661(0x1d6),d3[_0x592661(0x1c5)]('#nuvem')[_0x592661(0x1d5)]()['duration'](0x3e8)['style'](_0x592661(0x215),'#fff9c4')[_0x592661(0x1d5)]()[_0x592661(0x224)](0x3e8)[_0x592661(0x207)]('background-color',_0x592661(0x1d0)),node['selectAll'](_0x592661(0x1e9))['transition']()[_0x592661(0x224)](0x320)[_0x592661(0x207)](_0x592661(0x21c),'#ffd700')['style'](_0x592661(0x23a),_0x592661(0x1ed))[_0x592661(0x207)]('stroke-width',_0x592661(0x1e3)),link[_0x592661(0x1d5)]()['duration'](0x320)['style'](_0x592661(0x23a),_0x592661(0x212))[_0x592661(0x207)](_0x592661(0x214),_0x592661(0x240)),simulation[_0x592661(0x1bc)](0.2)[_0x592661(0x226)]();if(typeof focarGeral===_0x592661(0x1fb))focarGeral();setTimeout(()=>{const _0x2226f6=_0x592661;simulation[_0x2226f6(0x1d7)]();},0xbb8);}}function existeLigacao(_0x50d8cf,_0x8e024e,_0x2cdc96){const _0x91f11b=_0x2674a8,_0x5eb88d={};_0x2cdc96[_0x91f11b(0x1f2)](_0x22c177=>{const _0x1ac434=_0x91f11b,_0x22022c=typeof _0x22c177[_0x1ac434(0x1c6)]===_0x1ac434(0x232)?_0x22c177['source']['id']:_0x22c177[_0x1ac434(0x1c6)],_0x225ce0=typeof _0x22c177[_0x1ac434(0x228)]===_0x1ac434(0x232)?_0x22c177[_0x1ac434(0x228)]['id']:_0x22c177[_0x1ac434(0x228)];if(!_0x5eb88d[_0x22022c])_0x5eb88d[_0x22022c]=[];if(!_0x5eb88d[_0x225ce0])_0x5eb88d[_0x225ce0]=[];_0x5eb88d[_0x22022c][_0x1ac434(0x1da)](_0x225ce0),_0x5eb88d[_0x225ce0][_0x1ac434(0x1da)](_0x22022c);});const _0x424fd6=[_0x50d8cf],_0x1e7a25=new Set([_0x50d8cf]);while(_0x424fd6[_0x91f11b(0x1ea)]){const _0x3d88c0=_0x424fd6[_0x91f11b(0x22c)]();if(_0x3d88c0===_0x8e024e)return!![];(_0x5eb88d[_0x3d88c0]||[])[_0x91f11b(0x1f2)](_0x5651b0=>{const _0x7ce428=_0x91f11b;!_0x1e7a25[_0x7ce428(0x231)](_0x5651b0)&&(_0x1e7a25[_0x7ce428(0x1e6)](_0x5651b0),_0x424fd6['push'](_0x5651b0));});}return![];}window[_0x2674a8(0x1ef)]('DOMContentLoaded',async()=>{const _0x325612=_0x2674a8;await carregarDicionario(),await carregarModelo(),inicio=dicionario[Math['floor'](Math[_0x325612(0x23b)]()*dicionario['length'])],fim=dicionario[Math[_0x325612(0x1d9)](Math[_0x325612(0x23b)]()*dicionario[_0x325612(0x1ea)])];const _0x5233e9=(await extractor(inicio,{'pooling':_0x325612(0x1f8),'normalize':!![]}))[_0x325612(0x1df)],_0x46335f=(await extractor(fim,{'pooling':'mean','normalize':!![]}))[_0x325612(0x1df)];adicionarNo(inicio,_0x5233e9,{'x':width*0.25,'y':height/0x2}),adicionarNo(fim,_0x46335f,{'x':width*0.75,'y':height/0x2}),corrente=[inicio],document[_0x325612(0x210)]('objetivo')[_0x325612(0x206)]=_0x325612(0x209)+inicio+'\x22\x20at√©\x20\x22'+fim+'\x22';}),document[_0x2674a8(0x210)](_0x2674a8(0x233))[_0x2674a8(0x1ef)](_0x2674a8(0x1e2),_0x44ec1d=>{const _0x14e3ac=_0x2674a8;if(_0x44ec1d[_0x14e3ac(0x1eb)]==='Enter')adicionarPalavra();}),window[_0x2674a8(0x1cf)]=function(){const _0x347f7c=_0x2674a8,_0x238d44=corrente[_0x347f7c(0x1ea)],_0x1eb060=window['location']['href'],_0xbe16fd=_0x347f7c(0x205)+(_0x347f7c(0x1c2)+inicio[_0x347f7c(0x22b)]()+'\x22\x20a\x20\x22'+fim[_0x347f7c(0x22b)]()+'\x22\x0a')+(_0x347f7c(0x236)+_0x238d44+_0x347f7c(0x20d))+_0x347f7c(0x1bb)+(''+_0x1eb060);navigator[_0x347f7c(0x225)]?navigator[_0x347f7c(0x225)]({'text':_0xbe16fd})[_0x347f7c(0x1c4)](console[_0x347f7c(0x229)]):navigator[_0x347f7c(0x237)]['writeText'](_0xbe16fd)[_0x347f7c(0x1f6)](()=>{alert('Resultado\x20copiado!\x20Agora\x20√©\x20s√≥\x20colar\x20no\x20WhatsApp!\x20üöÄ');});};
  </script>
</body>
</html>